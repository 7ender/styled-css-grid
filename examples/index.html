<head>
  <script src="babel.js"></script>
  <script src="react.js"></script>
  <script src="react-dom.js"></script>
  <script src="lucas.js"></script>
</head>

<div class="outlet"></div>

<style>
.color--1 { background: #3366cc }
.color--2 { background: #dc3912 }
.color--3 { background: #ff9900 }
.color--4 { background: #109618 }
.color--5 { background: #990099 }
.color--6 { background: #0099c6 }
.color--7 { background: #dd4477 }
.color--8 { background: #66aa00 }
.color--9 { background: #b82e2e }
.color--10 { background: #316395 }

.cell {
  text-align: center;
  font-size: 3em;
  color: #dddddd;
  justify-content: center;
  font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
  font-weight: 200;
}

.cell a {
  color: #cecece;
}
</style>

<script type="text/babel" data-presets="react">
const { Grid, Cell } = lucas;

const THREE_COL_WIDTH = 650;

class Example extends React.Component {
  constructor(props) {
    super(props);
    this.state = { columns: 3 };
    this._onResize = this._onResize.bind(this);
  }

  componentDidMount() {
    window.addEventListener("resize", this._onResize, { passive: true });
    this._onResize();
  }

  componentWillUnmount() {
    window.removeEventListener("resize", this._onResize);
  }

  _onResize() {
    const columns = document.body.clientWidth < THREE_COL_WIDTH ? 2 : 3;
    this.setState({ columns });
  }

  render() {
    const { columns } = this.state;
    return (
      <Grid columns={columns}>
        <Cell width={2} className={"cell color--1"}>
          Build interesting layouts!
        </Cell>
        <Cell height={2} className={"cell color--2"}>
          Making this in old-school CSS would make you cry!
        </Cell>
        <Cell height={2} className={"cell color--3"}>
          But this is effortless.
        </Cell>
        <Cell className={"cell color--4"}>
          <em>Responsive</em>
        </Cell>
        <Cell width={2} className={"cell color--5"}>
          And it works in <a target="_blank" href="http://caniuse.com/#feat=css-grid">most</a> browsers!
        </Cell>
        <Cell className={"cell color--6"}>
          <a href="https://github.com/azz/lucas.js">GitHub</a>
        </Cell>
        <Cell className={"cell color--7"}>
          <a href="https://npmjs.org/lucas.js">npm</a>
        </Cell>
        <Cell className={"cell color--8"}>
          <code>lucas.js</code>
        </Cell>
      </Grid>
    );
  }
}

ReactDOM.render(
  <Example />,
  document.querySelector('.outlet')
);
</script>
